{% set static = "/" + appId + "/public" %}
{% set xfpageSeoResourceUrl = ctx.app.config.xfpageSeoResourceUrl %}
<script src="<$ static $>/tailwindcss/tailwindcss.js"></script>
<script src="<$ static $>/tailwindcss/tailwindcss.config.js"></script>
<style>
    main {
        background:  #f9f9f9;
    }
</style>
<main id="main" class="text-gray-800 ThemePage {% if constantUiMap.submenu[xfPage.categoryGroup] %}jh-has-submenu{% endif %}">
  <!-- 菜单 -->
  {% if xfPage.xfPageConfig.menus %}
  {% include 'component/xfpageModule/menus.html' %}
  {% endif %}

  <div class="jh-module">
      {% for section, value in xfPage.xfPageConfig %}

      {% if section.includes('section_') and xfPage.xfPageConfig[section] %}
      <div class="jh-block-1">
        {% if xfPage.xfPageConfig[section].xfpageModule %}
        {% include 'component/xfpageModule/' + xfPage.xfPageConfig[section].xfpageModule + '.html' %}
        {% else %}
        {% include 'component/xfpageModule/' + section + '.html' %}
        {% endif %}
      </div>


      {% if xfPage.xfPageConfig[section].listStyle == "listCard1" %}
      {% set listCardData = xfPage.xfPageConfig[section].list %}
      <div class="container-lg">
          {% include 'component/xfpageModule/listCard1.html' %}
      </div>
      {% endif %}

      {% endif %}

      <!-- body -->
      {% if section == "body" %}
      <div class="container-lg mt-4">
        <div class="bg-[#42B883] flex md:!p-4 p-3 rounded-2xl relative flex-col md:!flex-row">
          <!-- xfPage.xfPageConfig[section].list 宽度 3/5  -->
          <div class="w-full md:!w-3/5 flex flex-col md:!flex-row md:!gap-5 gap-2 md:!pr-8 pr-0 md:!mb-0 mb-3">
            {% for it in xfPage.xfPageConfig[section].list %}
            <div class="w-full md:!w-1/3">
              <div class="flex md:!flex-col flex-row">
                <!-- icon -->
                <img src="<$ xfpageSeoResourceUrl $><$ it.icon $>" class="md:!w-8 md:!h-8 w-5 h-5 mr-2 mb-2">
                <!-- title -->
                <div class="text-md font-bold text-white mb-2"><$ it.title $></div>
              </div>
              <!-- content -->
              <div class="text-xs text-white"><$ it.content $></div>
            </div>
            {% endfor %}
          </div>
          <!-- xfPage.xfPageConfig[section].countList 宽度 2/5  -->
          <div class="w-full md:!w-2/5 flex flex-col p-3 gap-2 rounded-2xl bg-white md:!absolute right-4 bottom-4 opacity-90 shadow-lg">
            <div class="w-full text-sm"><$ xfPage.xfPageConfig[section].title $></div>
            <div class="w-full flex gap-3">
              {% for it in xfPage.xfPageConfig[section].countList %}
              <div class="w-1/3 text-center">
                <div class="text-xl font-bold text-[#42B883]"><$ it.count $></div>
                <div class="text-xs font-bold"><$ it.title $></div>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
      {% endif %}

      <!-- 江湖成长 -->
      {% if section == "growth" %}
      <div class="container-lg pt-10">
        <div class="text-2xl font-bold mb-4"><$ xfPage.xfPageConfig[section].title $></div>
        <div class="flex rounded-md relative bg-white shadow-md flex-col md:!flex-row">
          <!-- xfPage.xfPageConfig[section].list 宽度 3/5  -->
          <div class="w-full md:!w-3/5 flex gap-4 pr-4 min-h-full items-center justify-center md:!pt-0 pt-4">
            {% for it in xfPage.xfPageConfig[section].list %}
            <div class="w-1/3 text-center">
              <!-- content -->
              <div class="text-xl font-bold text-[#42B883]"><$ it.content $></div>
              <!-- title -->
              <div class="text-xs mb-2"><$ it.title $></div>
            </div>
            {% endfor %}
          </div>
          <!-- xfPage.xfPageConfig[section].countList 宽度 2/5  -->
          <div class="w-full md:!w-2/5 flex flex-col p-3 gap-2 bg-[#F8FCFB]">
            <div class="w-full text-xs"><$ xfPage.xfPageConfig[section].content $></div>
          </div>
        </div>
      </div>
      {% endif %}

      <!-- 江湖案例 -->
      {% if section == "case" %}
      <div class="container-lg pt-10">
        <div class="text-2xl font-bold mb-4"><$ xfPage.xfPageConfig[section].title $></div>
        <div class="grid md:!grid-cols-2 grid-cols-1 md:!gap-4 gap-3">

          {% for it in xfPage.xfPageConfig[section].list %}
          <div class="flex bg-white rounded-md justify-between overflow-hidden">
            <div class="md:!p-3 p-2">
              <!-- title -->
              <div class="text-xs mb-2 flex items-center gap-2">
                <!-- 图片 -->
                <img src="<$ xfpageSeoResourceUrl $><$ it.icon $>" class="w-5 h-5">
                <div class="text-base font-bold"><$ it.title $></div>
              </div>
              <!-- content -->
              <div class="text-sm text-gray-500"><$ it.content $></div>
            </div>
            <!-- 图片 -->
            <img src="<$ xfpageSeoResourceUrl $><$ it.cover $>" class="h-28 md:aspect-[3/2] aspect-[1.2/1] object-cover bg-gray-200">
          </div>
          {% endfor %}

        </div>
      </div>
      {% endif %}

      <!-- 合作伙伴 -->
      {% if section == "partner" %}
      <div class="container-lg pt-10">
        <div class="text-2xl font-bold mb-4"><$ xfPage.xfPageConfig[section].title $>
        </div>
        <div class="grid md:!grid-cols-4 grid-cols-2 md:!gap-4 gap-2">

          {% for it in xfPage.xfPageConfig[section].list %}
          <div class="flex bg-white rounded-md p-2 md:!h-32 h-24 shadow-xs">
            <!-- 图片 -->
            <img src="<$ xfpageSeoResourceUrl $><$ it $>" class="max-w-full max-h-full object-contain m-auto">
          </div>
          {% endfor %}

        </div>
      </div>
      {% endif %}


      <!-- 联系我们 -->
      {% if section == "contact" %}
      <div class="container-lg pt-10">
        <div class="text-2xl font-bold mb-4"><$ xfPage.xfPageConfig[section].title $></div>
        <div class="flex flex-col md:!flex-row">
          <!-- 左侧 3/5 地图api容器 -->
          <div class="md:!w-3/5 w-full h-40 md:!h-auto map-container" id="map-container">
          </div>
          <!-- 右侧 2/5 联系我们容器 -->
          <div class="md:!w-2/5 w-full md:!py-8 py-2 px-3 bg-white">
            {% for it in xfPage.xfPageConfig[section].list %}
            <div class="flex bg-white rounded-md p-2 min-h-12 items-center gap-2">
              <!-- 图片 -->
                <i class="fa-solid <$ it.icon $> text-[#42B883]"></i>
                <!-- 标题 -->
                <div class=" text-xs"><$ it.title $></div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      {% endfor %}
  </div>

  <!-- 使用 -->
  {% if xfPage.xfPageConfig.use %}
  {% include 'component/xfpageModule/use.html' %}
  {% endif %}

  <!-- why choose -->
  {% include 'component/xfpageModule/whyChoose.html' %}
</main>
{% include 'component/footer.html' %}

<script type="text/javascript" src="<$ static $>/mdbootstrap/MDB5-Pro-Advanced_4.4.0.mdb.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
<link href="https://cdn.jsdelivr.net/npm/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
<script>
  // 地图api容器
  const mapContainer = document.getElementById('map-container');
  
  
  // 等待DOM完全加载
  document.addEventListener('DOMContentLoaded', function() {
    // 使用OpenStreetMap详细地图源
    const map = new maplibregl.Map({
      container: 'map-container',
      style: 'https://api.maptiler.com/maps/streets/style.json?key=9HpY7i5aFibOlQ5RyBJ9', // 更详细的街道地图样式
      center: [103.8516, 1.2903], // 默认中心点坐标（新加坡市中心）
      zoom: 14 // 增加默认缩放级别以显示更多细节
    });
    
    // 添加标记
    const marker = new maplibregl.Marker()
      .setLngLat([116.404, 39.915]) // 设置标记位置
      .addTo(map);
      
    // 添加导航控件
    map.addControl(new maplibregl.NavigationControl());
    
    // 添加比例尺控件
    map.addControl(new maplibregl.ScaleControl({
      maxWidth: 100,
      unit: 'metric'
    }));
    
    // 确保地图正确渲染
    map.on('load', function() {
      map.resize();
    });
  });
</script>
<style>
</style>